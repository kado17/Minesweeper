(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,r){"use strict";r.r(n);var t=r(2809),o=r(7294),i=r(9163),c=r(5893);function a(e,n){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"===typeof e)return l(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,n)}(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var d="images/img.png",f=i.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),h=i.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:space-around;width:","vh;height:","vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"],(function(e){return 5*e.numberOfBlocks.width+5}),(function(e){return 5*e.numberOfBlocks.height+19})),v=i.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-2"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:","vh;height:11vh;border:0.7vh solid;border-color:#666 #ddd #ddd #666;"],(function(e){return 5*e.widthNumberOfBlocks+2})),b=i.ZP.div.withConfig({displayName:"pages__Flagcouner",componentId:"sc-eccczk-3"})(["display:inline;width:13vh;height:8vh;margin-left:1vh;font-size:7vh;line-height:6.5vh;color:red;text-align:center;background-color:black;border:0.5vh solid black;border-color:#666 #ddd #ddd #666;"]),g=(0,i.ZP)(b).withConfig({displayName:"pages__CountUpTimer",componentId:"sc-eccczk-4"})(["margin-right:1vh;"]),m=i.ZP.div.withConfig({displayName:"pages__Face",componentId:"sc-eccczk-5"})(["width:8vh;height:8vh;background-image:url(",");background-repeat:no-repeat;background-position:","vh 0;background-origin:border-box;background-size:112vh 8vh;border:0.6vh solid;border-color:#ddd #666 #666 #ddd;"],d,(function(e){return-8*e.faceState})),p=i.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-6"})(["width:","vh;height:","vh;border:1vh solid;border-color:#666 #ddd #ddd #666;"],(function(e){return 5*e.numberOfBlocks.width+2}),(function(e){return 5*e.numberOfBlocks.height+2})),y=i.ZP.div.withConfig({displayName:"pages__BombBlock",componentId:"sc-eccczk-7"})(["display:inline-block;width:5vh;height:5vh;vertical-align:bottom;background-color:white;background-image:url(",");background-repeat:no-repeat;background-position:-50vh 0;background-size:70vh 5vh;border:0.1vh solid #666;"],d),k=(0,i.ZP)(y).withConfig({displayName:"pages__GameBlock",componentId:"sc-eccczk-8"})(["background-color:",";background-position:","vh 0;",""],(function(e){return e.isOpen?"white":"gray"}),(function(e){return-5*(e.num-1)-.1}),(function(e){return e.isOpen?"border: 0.1vh solid #666;":"border: 0.4vh solid;border-color: #bbb #666 #666 #bbb;"})),w=(0,i.ZP)(y).withConfig({displayName:"pages__FlagBlock",componentId:"sc-eccczk-9"})(["background-color:gray;background-position:","vh -0.3vh;border:0.3vh solid;border-color:#bbb #666 #666 #bbb;"],(function(e){return-5*(e.num-3)-.1})),B=i.ZP.div.withConfig({displayName:"pages__SideMenu",componentId:"sc-eccczk-10"})(["position:fixed;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;width:18vh;height:20vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"]),x=i.ZP.div.withConfig({displayName:"pages__EasyLevelButton",componentId:"sc-eccczk-11"})(["width:16vh;height:5.5vh;font-size:4vh;line-height:4vh;color:#111;text-align:center;background-color:gray;border:0.4vh solid;border-color:#bbb #666 #666 #bbb;"]),O=(0,i.ZP)(x).withConfig({displayName:"pages__NormalLevelButton",componentId:"sc-eccczk-12"})([""]),_=(0,i.ZP)(x).withConfig({displayName:"pages__HardLevelButton",componentId:"sc-eccczk-13"})([""]);n.default=function(){var e=[],n={isGameclear:!1,isGameover:!1},r=[{widthBlocks:9,heightBlocks:9,numberOfBombs:10},{widthBlocks:16,heightBlocks:16,numberOfBombs:40},{widthBlocks:30,heightBlocks:16,numberOfBombs:99}],t=function(e,n){return Array.from(new Array(n),(function(){return new Array(e).fill(9)}))},i=(0,o.useState)(r[2]),l=i[0],s=i[1],d=(0,o.useState)(t(l.widthBlocks,l.heightBlocks)),j=d[0],N=d[1],C=(0,o.useState)(e),P=C[0],S=C[1],I=(0,o.useState)(n),z=I[0],G=I[1],Z=(0,o.useState)(l.numberOfBombs),E=Z[0],A=Z[1],M=(0,o.useState)(0),D=M[0],J=M[1];(0,o.useEffect)((function(){if(0!==P.length&&!z.isGameclear&&!z.isGameover){var e=setInterval((function(){J((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}}),[P,z]);var T=function(e,n,r){if(r.preventDefault(),!z.isGameclear&&!z.isGameover){var t=JSON.parse(JSON.stringify(j));9===t[n][e]?0<E?(t[n][e]=12,A(E-1)):t[n][e]=11:12===t[n][e]?(t[n][e]=11,A(E+1)):11===t[n][e]&&(t[n][e]=9),N(t)}},F=function(o){var i=r[o];s(i),N(t(i.widthBlocks,i.heightBlocks)),S(e),G(n),A(i.numberOfBombs),J(0)};return(0,c.jsxs)(f,{children:[(0,c.jsxs)(B,{children:[(0,c.jsx)(x,{onClick:function(){return F(0)},children:"Easy"}),(0,c.jsx)(O,{onClick:function(){return F(1)},children:"Normal"}),(0,c.jsx)(_,{onClick:function(){return F(2)},children:"Hard"})]}),(0,c.jsxs)(h,{numberOfBlocks:{width:l.widthBlocks,height:l.heightBlocks},children:[(0,c.jsxs)(v,{widthNumberOfBlocks:l.widthBlocks,children:[(0,c.jsx)(b,{children:("000"+E).slice(-3)}),(0,c.jsx)(m,{faceState:z.isGameover?13:z.isGameclear?12:11,onClick:function(){return N(t(l.widthBlocks,l.heightBlocks)),S(e),G(n),A(l.numberOfBombs),void J(0)},onContextMenu:function(e){return function(e){e.preventDefault();for(var n=JSON.parse(JSON.stringify(j)),r=function(e){for(var r=function(r){P.some((function(n){return n.x===e&&n.y===r}))||(n[r][e]=0)},t=0;t<l.heightBlocks;t++)r(t)},t=0;t<l.widthBlocks;t++)r(t);N(n);var o,i=0,c=a(n);try{for(c.s();!(o=c.n()).done;)i+=o.value.filter((function(e){return 9===e||11<=e})).length}catch(h){c.e(h)}finally{c.f()}if(i===l.numberOfBombs){G(u(u({},z),{},{isGameclear:!0}));var s,d=a(P);try{for(d.s();!(s=d.n()).done;){var f=s.value;n[f.y][f.x]=12}}catch(h){d.e(h)}finally{d.f()}}}(e)}}),(0,c.jsx)(g,{children:D>999?999:("000"+D).slice(-3)})]}),(0,c.jsx)(p,{numberOfBlocks:{width:l.widthBlocks,height:l.heightBlocks},children:j.map((function(e,n){return e.map((function(e,r){return 10===e?(0,c.jsx)(y,{},"".concat(r,"-").concat(n)):11<=e?(0,c.jsx)(w,{num:e,onContextMenu:function(e){return T(r,n,e)}},"".concat(r,"-").concat(n)):(0,c.jsx)(k,{isOpen:e<9,num:1<=e&&e<=8?e:100,onClick:function(){return function(e,n){var r=function(e,n){for(var r=[],t=e-1;t<e+2;t++)for(var o=n-1;o<n+2;o++)0<=t&&t<l.widthBlocks&&0<=o&&o<l.heightBlocks&&{x:e,y:n}!=={x:t,y:o}&&r.push({x:t,y:o});return r},t=function(e,n,r){for(var t=0,o=function(e){for(var o=function(n){r.some((function(r){return r.x===e&&r.y===n}))&&t++},i=n-1;i<n+2;i++)o(i)},i=e-1;i<e+2;i++)o(i);return t},o=JSON.parse(JSON.stringify(j));if(!z.isGameclear&&!z.isGameover&&9===o[n][e]){var i=P;0===i.length&&(i=function(e,n){for(var r=[],t=function(){var t=Math.floor(Math.random()*l.widthBlocks),o=Math.floor(Math.random()*l.heightBlocks);r.some((function(e){return e.x===t&&e.y===o}))||e===t||n===o||r.push({x:t,y:o})};r.length<l.numberOfBombs;)t();return r}(e,n),S(i));for(var c=0,s=!1,d=0;d<i.length;d++)i[d].x===e&&i[d].y===n&&(s=!0);if(s){G(u(u({},z),{},{isGameover:!0}));var f,h=a(i);try{for(h.s();!(f=h.n()).done;){var v=f.value;o[v.y][v.x]=10}}catch(D){h.e(D)}finally{h.f()}}else{if(c=t(e,n,i),o[n][e]=c,0===c){var b,g=0,m=E,p=r(e,n),y=a(p);try{for(y.s();!(b=y.n()).done;){var k=b.value;if(12===o[k.y][k.x]&&m++,g=t(k.x,k.y,i),o[k.y][k.x]=g,0===g){var w,B=a(r(k.x,k.y));try{var x=function(){var e=w.value;p.some((function(n){return n.x===e.x&&n.y===e.y}))||p.push({x:e.x,y:e.y})};for(B.s();!(w=B.n()).done;)x()}catch(D){B.e(D)}finally{B.f()}}}}catch(D){y.e(D)}finally{y.f()}A(m)}var O,_=0,C=a(o);try{for(C.s();!(O=C.n()).done;)_+=O.value.filter((function(e){return 9===e||11<=e})).length}catch(D){C.e(D)}finally{C.f()}if(_===l.numberOfBombs){G(u(u({},z),{},{isGameclear:!0}));var I,Z=a(i);try{for(Z.s();!(I=Z.n()).done;){var M=I.value;o[M.y][M.x]=12}}catch(D){Z.e(D)}finally{Z.f()}}}N(o)}}(r,n)},onContextMenu:function(e){return T(r,n,e)}},"".concat(r,"-").concat(n))}))}))})]})]})}},5301:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);