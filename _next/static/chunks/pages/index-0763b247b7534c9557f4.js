(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,r){"use strict";r.r(n);var t=r(2809),o=r(9008),i=r(7294),c=r(9163),a=r(5893);function s(e,n){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"===typeof e)return l(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,n)}(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var f="images/img.png",p=c.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-image:url('images/background.png');"]),h=c.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:space-around;width:","px;height:","px;background-color:#ccc;border:2px solid;border-color:#ddd #666 #666 #ddd;"],(function(e){return 40*e.numberOfBlocks.width+50}),(function(e){return 40*e.numberOfBlocks.height+150})),g=c.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-2"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:","px;height:86px;border:4px solid;border-color:#666 #ddd #ddd #666;"],(function(e){return 40*e.numberOfBlocksWidth+2})),b=c.ZP.div.withConfig({displayName:"pages__Flagcouner",componentId:"sc-eccczk-3"})(["display:inline;width:120px;height:68px;margin-left:10px;font-size:60px;line-height:55px;color:red;text-align:center;cursor:default;background-color:black;border:0.5vh solid black;border-color:#666 #ddd #ddd #666;"]),m=(0,c.ZP)(b).withConfig({displayName:"pages__CountUpTimer",componentId:"sc-eccczk-4"})(["margin-right:10px;margin-left:0;"]),x=c.ZP.div.withConfig({displayName:"pages__Face",componentId:"sc-eccczk-5"})(["width:70px;height:70px;cursor:pointer;background-image:url(",");background-repeat:no-repeat;background-position:","px;background-origin:border-box;background-size:826px;border:3px solid;border-color:#ddd #666 #666 #ddd;&:hover{opacity:0.8;transition:0.1s;}"],f,(function(e){return-58.6*e.faceState})),y=c.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-6"})(["width:","px;height:","px;border:1px solid;border-color:#666 #ddd #ddd #666;"],(function(e){return 40*e.numberOfBlocks.width+2}),(function(e){return 40*e.numberOfBlocks.height+2})),k=c.ZP.div.withConfig({displayName:"pages__BombBlock",componentId:"sc-eccczk-7"})(["display:inline-block;width:40px;height:40px;vertical-align:bottom;background-color:",";background-image:url(",");background-repeat:no-repeat;background-position:-367px;background-size:516px;border:1px solid #666;"],(function(e){return 99===e.num?"red":"#bbb"}),f),v=(0,c.ZP)(k).withConfig({displayName:"pages__GameBlock",componentId:"sc-eccczk-8"})(["cursor:pointer;background-color:",";background-position:","px;background-size:505px;",""],(function(e){return e.isOpen?"#bbb":"gray"}),(function(e){return-36*(e.num-1)}),(function(e){return e.isOpen?"border: 0.2px solid #666;":"border: 0.4px solid;border-color: #bbb #666 #666 #bbb;"})),w=(0,c.ZP)(k).withConfig({displayName:"pages__FlagBlock",componentId:"sc-eccczk-9"})(["cursor:pointer;background-color:gray;background-position:","px 0;background-size:507px;border:0.1vh solid;border-color:#bbb #666 #666 #bbb;"],(function(e){return-36*(e.num-3)})),O=c.ZP.div.withConfig({displayName:"pages__SideMenu",componentId:"sc-eccczk-10"})(["position:fixed;bottom:15px;left:15px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;width:170px;height:220px;padding:10px;text-align:center;background-color:#ccc;border:5px solid #666;"]),_=c.ZP.div.withConfig({displayName:"pages__LevelButton",componentId:"sc-eccczk-11"})(["position:relative;display:inline-block;width:90%;height:25%;padding:10px;font-family:bold;color:#fff;text-decoration:none;cursor:pointer;background-color:#f2545b;border-radius:2px;box-shadow:0 6px 0 #a4243b;transition:none;"," &:hover{top:6px;color:#fff;box-shadow:none;}"],(function(e){return e.isSelect?"background-color: #33ccff; \n    top: 6px;\n    box-shadow: none;\n    color: #fff;":""})),B=c.ZP.div.withConfig({displayName:"pages__OpenModalButton",componentId:"sc-eccczk-12"})(["position:fixed;top:15px;right:15px;padding:15px 20px;font-family:bold;color:#fff;cursor:pointer;background-color:black;border-radius:20%;&:hover{opacity:0.8;transition:0.1s;}"]),j=c.ZP.div.withConfig({displayName:"pages__Overlay",componentId:"sc-eccczk-13"})(["position:fixed;top:0;left:0;z-index:1;display:none;align-items:center;justify-content:center;width:100%;height:100%;background-color:rgb(0 0 0 / 70%);",""],(function(e){return e.isOpen?"display:block;":""})),C=c.ZP.div.withConfig({displayName:"pages__Modal",componentId:"sc-eccczk-14"})(["position:absolute;top:10%;right:10%;z-index:2;display:flex;width:80%;height:80%;background-color:#fff;border-radius:10px;"]),S=c.ZP.img.withConfig({displayName:"pages__Manual",componentId:"sc-eccczk-15"})(["position:absolute;top:50%;left:50%;z-index:3;border:2px solid black;transform:translateY(-50%) translateX(-50%);"]),N=c.ZP.div.withConfig({displayName:"pages__CloseButton",componentId:"sc-eccczk-16"})(["position:absolute;top:10px;right:20px;z-index:3;font-size:200%;font-weight:bold;cursor:pointer;&:hover{opacity:0.8;transition:0.1s;}"]);n.default=function(){var e=[],n={isGameclear:!1,isGameover:!1},r=[{widthBlocks:9,heightBlocks:9,numberOfBombs:10},{widthBlocks:16,heightBlocks:16,numberOfBombs:40},{widthBlocks:30,heightBlocks:16,numberOfBombs:99}],t=function(e,n){return Array.from(new Array(n),(function(){return new Array(e).fill(9)}))},c=(0,i.useState)(0),l=c[0],d=c[1],f=(0,i.useState)(r[l]),z=f[0],P=f[1],I=(0,i.useState)(t(z.widthBlocks,z.heightBlocks)),Z=I[0],G=I[1],M=(0,i.useState)(e),E=M[0],A=M[1],J=(0,i.useState)(n),D=J[0],F=J[1],T=(0,i.useState)(z.numberOfBombs),X=T[0],U=T[1],W=(0,i.useState)(0),L=W[0],Y=W[1],$=(0,i.useState)(!1),q=$[0],H=$[1];(0,i.useEffect)((function(){if(0!==E.length&&!D.isGameclear&&!D.isGameover){var e=setInterval((function(){Y((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}}),[E,D]);var K=function(e,n,r){if(r.preventDefault(),!D.isGameclear&&!D.isGameover){var t=JSON.parse(JSON.stringify(Z));9===t[n][e]?0<X?(t[n][e]=12,U(X-1)):t[n][e]=11:12===t[n][e]?(t[n][e]=11,U(X+1)):11===t[n][e]&&(t[n][e]=9),G(t)}},Q=function(o){var i=z;o!==l&&(d(o),P(r[o]),i=r[o]),G(t(i.widthBlocks,i.heightBlocks)),A(e),F(n),U(i.numberOfBombs),Y(0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.default,{children:(0,a.jsx)("title",{children:"Minesweeper"})}),(0,a.jsxs)(p,{children:[(0,a.jsx)(B,{onClick:function(){return H(!0)},children:"Manual"}),(0,a.jsx)(j,{isOpen:q,children:(0,a.jsxs)(C,{children:[(0,a.jsx)(N,{onClick:function(){return H(!1)},children:"\xd7"}),(0,a.jsx)(S,{src:"/images/manual.png"})]})}),(0,a.jsxs)(O,{children:[(0,a.jsx)(_,{onClick:function(){return Q(0)},isSelect:0===l,children:"Beginner"}),(0,a.jsx)(_,{onClick:function(){return Q(1)},isSelect:1===l,children:"Intermediate"}),(0,a.jsx)(_,{onClick:function(){return Q(2)},isSelect:2===l,children:"Expert"})]}),(0,a.jsxs)(h,{numberOfBlocks:{width:z.widthBlocks,height:z.heightBlocks},children:[(0,a.jsxs)(g,{numberOfBlocksWidth:z.widthBlocks,children:[(0,a.jsx)(b,{children:("000"+X).slice(-3)}),(0,a.jsx)(x,{faceState:D.isGameover?13:D.isGameclear?12:11,onClick:function(){return Q(l)}}),(0,a.jsx)(m,{children:L>999?999:("000"+L).slice(-3)})]}),(0,a.jsx)(y,{numberOfBlocks:{width:z.widthBlocks,height:z.heightBlocks},children:Z.map((function(e,n){return e.map((function(e,r){return 10===e||99===e?(0,a.jsx)(k,{num:e},"".concat(r,"-").concat(n)):11<=e?(0,a.jsx)(w,{num:e,onContextMenu:function(e){return K(r,n,e)}},"".concat(r,"-").concat(n)):(0,a.jsx)(v,{isOpen:e<9,num:1<=e&&e<=8?e:100,onClick:function(){return function(e,n){var r=function(e,n){for(var r=[],t=e-1;t<e+2;t++)for(var o=n-1;o<n+2;o++)0<=t&&t<z.widthBlocks&&0<=o&&o<z.heightBlocks&&JSON.stringify({x:e,y:n})!==JSON.stringify({x:t,y:o})&&r.push({x:t,y:o});return r},t=function(e,n,r){for(var t=0,o=function(e){for(var o=function(n){r.some((function(r){return r.x===e&&r.y===n}))&&t++},i=n-1;i<n+2;i++)o(i)},i=e-1;i<e+2;i++)o(i);return t},o=JSON.parse(JSON.stringify(Z));if(!D.isGameclear&&!D.isGameover&&9===o[n][e]){var i=E;0===i.length&&(i=function(e,n){for(var r=[],t=function(){var t=Math.floor(Math.random()*z.widthBlocks),o=Math.floor(Math.random()*z.heightBlocks);r.some((function(e){return e.x===t&&e.y===o}))||e===t||n===o||r.push({x:t,y:o})};r.length<z.numberOfBombs;)t();return r}(e,n),A(i));for(var c=0,a=!1,l=0;l<i.length;l++)i[l].x===e&&i[l].y===n&&(a=!0);if(a){F(u(u({},D),{},{isGameover:!0}));var d,f=s(i);try{for(f.s();!(d=f.n()).done;){var p=d.value;o[p.y][p.x]=10}}catch(N){f.e(N)}finally{f.f()}o[n][e]=99}else{if(c=t(e,n,i),o[n][e]=c,0===c){var h,g=0,b=X,m=r(e,n),x=s(m);try{for(x.s();!(h=x.n()).done;){var y=h.value;if(12===o[y.y][y.x]&&b++,g=t(y.x,y.y,i),o[y.y][y.x]=g,0===g){var k,v=s(r(y.x,y.y));try{var w=function(){var e=k.value;m.some((function(n){return n.x===e.x&&n.y===e.y}))||m.push({x:e.x,y:e.y})};for(v.s();!(k=v.n()).done;)w()}catch(N){v.e(N)}finally{v.f()}}}}catch(N){x.e(N)}finally{x.f()}U(b)}var O,_=0,B=s(o);try{for(B.s();!(O=B.n()).done;)_+=O.value.filter((function(e){return 9===e||11<=e})).length}catch(N){B.e(N)}finally{B.f()}if(_===z.numberOfBombs){F(u(u({},D),{},{isGameclear:!0}));var j,C=s(i);try{for(C.s();!(j=C.n()).done;){var S=j.value;o[S.y][S.x]=12}}catch(N){C.e(N)}finally{C.f()}}}G(o)}}(r,n)},onContextMenu:function(e){return K(r,n,e)}},"".concat(r,"-").concat(n))}))}))})]})]})]})}},5301:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2562)}])}},function(e){e.O(0,[90,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);